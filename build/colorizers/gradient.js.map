{"version":3,"sources":["gradient.js"],"names":["GradientColorizer","breaks","colors","clampTo","length","push","value","i","z1","r0","g0","b0","a0","r1","g1","b1","a1","z0","frac","r","g","b","a"],"mappings":";;;;;;;;;;AAAA;;;;AAEA,IAAMA,oBAAoB,SAApBA,iBAAoB,CAACC,MAAD,EAASC,MAAT,EAAoB;AAC5C,MAAMC,UAAUF,OAAOA,OAAOG,MAAP,GAAgB,CAAvB,CAAhB;AACAF,WAAS,2BAAgBA,MAAhB,CAAT;AACA;AACAA,SAAOG,IAAP,CAAYH,OAAOA,OAAOE,MAAP,GAAgB,CAAvB,CAAZ;AACA,SAAO,UAACE,KAAD,EAAW;AAChB,QAAIA,QAAQH,OAAZ,EAAqBG,QAAQH,OAAR;AACrB,SAAK,IAAII,IAAI,CAAb,EAAgBA,IAAIN,OAAOG,MAA3B,EAAmCG,GAAnC,EAAwC;AACtC,UAAMC,KAAKP,OAAOM,CAAP,CAAX;AACA,UAAID,SAASE,EAAb,EAAiB;AAAA,qDACUN,OAAOK,CAAP,CADV;AAAA,YACRE,EADQ;AAAA,YACJC,EADI;AAAA,YACAC,EADA;AAAA,YACIC,EADJ;;AAAA,mDAEUV,OAAOK,IAAI,CAAX,CAFV;AAAA,YAERM,EAFQ;AAAA,YAEJC,EAFI;AAAA,YAEAC,EAFA;AAAA,YAEIC,EAFJ;;AAGf,YAAMC,KAAMV,MAAM,CAAP,GAAY,CAAZ,GAAgBN,OAAOM,IAAI,CAAX,CAA3B;AACA,YAAMW,OAAO,CAACZ,QAAQW,EAAT,KAAgBT,KAAKS,EAArB,CAAb;AACA,YAAME,IAAIV,KAAK,CAACI,KAAKJ,EAAN,IAAYS,IAA3B;AACA,YAAME,IAAIV,KAAK,CAACI,KAAKJ,EAAN,IAAYQ,IAA3B;AACA,YAAMG,IAAIV,KAAK,CAACI,KAAKJ,EAAN,IAAYO,IAA3B;AACA,YAAMI,IAAIV,KAAK,CAACI,KAAKJ,EAAN,IAAYM,IAA3B;AACA,eAAO,CAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP,EAAUC,CAAV,CAAP;AACD;AACF;AACF,GAhBD;AAiBD,CAtBD;;kBAwBetB,iB","file":"gradient.js","sourcesContent":["import { normalizeColors } from '../util'\n\nconst GradientColorizer = (breaks, colors) => {\n  const clampTo = breaks[breaks.length - 1]\n  colors = normalizeColors(colors)\n  // The interpolated color scheme requires one more color \"off the end\" of the scale\n  colors.push(colors[colors.length - 1])\n  return (value) => {\n    if (value > clampTo) value = clampTo\n    for (let i = 0; i < breaks.length; i++) {\n      const z1 = breaks[i]\n      if (value <= z1) {\n        const [r0, g0, b0, a0] = colors[i]\n        const [r1, g1, b1, a1] = colors[i + 1]\n        const z0 = (i === 0) ? 0 : breaks[i - 1]\n        const frac = (value - z0) / (z1 - z0)\n        const r = r0 + (r1 - r0) * frac\n        const g = g0 + (g1 - g0) * frac\n        const b = b0 + (b1 - b0) * frac\n        const a = a0 + (a1 - a0) * frac\n        return [r, g, b, a]\n      }\n    }\n  }\n}\n\nexport default GradientColorizer\n"]}